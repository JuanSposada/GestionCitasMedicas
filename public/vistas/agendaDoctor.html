<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agenda del Doctor</title>
    <!-- FUENTE -->
    <link href="https://fonts.googleapis.com/css?family=Segoe+UI|Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Iconos Lucide para visualización moderna -->
    <script src="https://unpkg.com/lucide@latest"></script> 
    
    <!-- CSS basado en el diseño provisto por el usuario -->
    <style>
        /* Estilos Generales y Reset */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f7f9; /* Fondo muy claro */
            color: #333;
            line-height: 1.6;
        }

        .app-container {
            max-width: 1200px;
            margin: 40px auto;
            padding: 0 20px;
        }

        /* Estilos de Secciones y Listas */
        section {
            background-color: white;
            padding: 30px;
            margin-bottom: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        section h2 {
            color: #007bff;
            border-bottom: 2px solid #007bff;
            padding-bottom: 10px;
            margin-top: 0;
            margin-bottom: 25px;
            font-size: 1.8em;
        }

        /* HEADER del Doctor adaptado al estilo principal */
        .doctor-header {
            background-color: white;
            padding: 20px 30px;
            margin-bottom: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            border-left: 5px solid #007bff; /* Borde izquierdo primario */
            display: flex;
            align-items: center;
            gap: 20px;
        }
        .doctor-header h1 {
            color: #333;
            font-size: 2em;
            margin: 0;
        }
        .doctor-header p {
            color: #666;
            margin: 2px 0;
            font-size: 0.95em;
        }
        .doctor-header .icon-container {
            color: #007bff;
        }

        /* Tarjetas de Estadísticas (Adaptado de .stats-cards) */
        .stats-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background-color: #e9f7ff; /* Fondo claro para las tarjetas de enlace */
            padding: 20px;
            border-radius: 8px;
            transition: transform 0.2s, box-shadow 0.2s;
            border-left: 5px solid #007bff; 
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .stat-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 123, 255, 0.2);
        }

        .stat-card .stat-label {
            color: #555;
            font-size: 0.9em;
            font-weight: 600;
        }
        .stat-card .stat-value {
            font-size: 2.5em;
            font-weight: bold;
            color: #007bff;
            margin-top: 5px;
        }

        .stat-card#programmed-card .stat-value { color: #28a745; }
        .stat-card#cancelled-card .stat-value { color: #dc3545; }
        .stat-card#total-appointments-card .stat-value { color: #007bff; }


        /* Estilos de Filtros */
        .filter-buttons-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            align-items: center;
        }

        .filter-button {
            padding: 10px 15px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: background-color 0.2s;
        }

        /* Estilo base (no seleccionado) */
        .filter-button {
            background-color: #f0f0f0;
            color: #333;
        }

        /* Estilo activo/seleccionado */
        .filter-button.active {
            background-color: #007bff;
            color: white;
            box-shadow: 0 2px 5px rgba(0, 123, 255, 0.3);
        }

        .date-filter-group {
            display: flex;
            align-items: center;
            gap: 10px;
            background-color: #f0f0f0;
            padding: 8px 15px;
            border-radius: 6px;
        }
        
        #date-filter {
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 1em;
        }

        /* Estilos de Citas (Adaptado de la tabla) */
        .appointments-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .appointment-item {
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 1px 5px rgba(0, 0, 0, 0.05);
            display: flex;
            gap: 15px;
            align-items: flex-start;
        }

        /* Cita Programada */
        .appointment-item.programada {
            background-color: #e6f7e9; /* Verde muy claro */
            border-left: 5px solid #28a745; /* Verde de éxito */
        }
        .appointment-item.programada .status-pill {
            background-color: #28a745; 
        }

        /* Cita Cancelada */
        .appointment-item.cancelada {
            background-color: #fcebeb; /* Rojo muy claro */
            border-left: 5px solid #dc3545; /* Rojo de peligro */
        }
        .appointment-item.cancelada .status-pill {
            background-color: #dc3545;
        }

        .appointment-item .patient-name {
            font-weight: bold;
            font-size: 1.1em;
            color: #333;
        }
        .appointment-item .details {
            font-size: 0.9em;
            color: #666;
        }
        .appointment-item .status-pill {
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.85em;
            font-weight: 600;
            text-transform: uppercase;
        }
        .appointment-item .time-info {
            display: flex;
            gap: 15px;
            margin-top: 5px;
            font-size: 0.85em;
            color: #555;
        }
        
        /* Media Queries para Responsiveness */
        @media (max-width: 768px) {
            .doctor-header {
                flex-direction: column;
                align-items: flex-start;
            }
            .doctor-header h1 {
                font-size: 1.5em;
            }
            .app-container {
                margin: 20px auto;
                padding: 0 10px;
            }
            section {
                padding: 20px;
            }
            .stat-card {
                flex-direction: column;
                align-items: flex-start;
            }
            .stat-card .stat-value {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>

    <div class="app-container">
        <!-- HEADER DEL DOCTOR (DINÁMICO) -->
        <header class="doctor-header">
            <div class="icon-container">
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18z"/><path d="M10 16.5l4-3 2 4.5"/><path d="M12 12V3"/></svg>
            </div>
            <div id="doctor-info-header">
                <h1 id="doctor-name">Cargando Doctor...</h1>
                <p id="doctor-specialty">Especialidad: ---</p>
                <p id="doctor-schedule">Horario: ---</p>
            </div>
        </header>

        <!-- PESTAÑA DE ESTADÍSTICAS Y FILTROS -->
        <section>
            <h2>Resumen y Filtros</h2>
            
            <!-- Tarjetas de Estadísticas -->
            <div class="stats-cards">
                <!-- Total Programadas -->
                <div id="programmed-card" class="stat-card">
                    <div>
                        <p class="stat-label">Programadas</p>
                        <p id="total-programmed" class="stat-value">0</p>
                    </div>
                </div>

                <!-- Total Canceladas -->
                <div id="cancelled-card" class="stat-card">
                    <div>
                        <p class="stat-label">Canceladas</p>
                        <p id="total-cancelled" class="stat-value">0</p>
                    </div>
                </div>

                <!-- Total Citas -->
                <div id="total-appointments-card" class="stat-card">
                    <div>
                        <p class="stat-label">Citas Totales</p>
                        <p id="total-appointments" class="stat-value">0</p>
                    </div>
                </div>
            </div>

            <!-- Filtros por Fecha -->
            <div class="filter-buttons-container">
                <button onclick="filterAppointments('today')" id="filter-today" class="filter-button active">
                    Hoy
                </button>
                <button onclick="filterAppointments('week')" id="filter-week" class="filter-button">
                    Esta Semana
                </button>
                <button onclick="filterAppointments('next7days')" id="filter-next7days" class="filter-button">
                    Próximos 7 Días
                </button>
                <!-- Filtro de fecha personalizado -->
                <div class="date-filter-group">
                    <label for="date-filter">Fecha específica:</label>
                    <input type="date" id="date-filter" onchange="filterByDate(this.value)">
                </div>
            </div>
        </section>

        <!-- LISTA DE CITAS -->
        <section>
            <h2>Citas Programadas</h2>
            <div id="appointments-list" class="appointments-list">
                <!-- Las citas se inyectarán aquí por JavaScript -->
                <div class="appointment-item programada">
                    <div class="details">Cargando agenda...</div>
                </div>
            </div>
        </section>

    </div>

    <!-- Enlace al archivo JavaScript -->
    <script type="module" src="../js/main.js"></script> 
</body>
</html>